<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Zonify - Coordinador Global de Reuniones</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; padding: 2rem; max-width: 800px; margin: auto; }
    h1 { text-align: center; }
    label { display: block; margin: 1rem 0 0.5rem; font-weight: bold; }
    select, input[type="datetime-local"] { width: 100%; padding: 0.5rem; font-size: 1rem; }
    button { padding: 0.8rem 1.5rem; font-size: 1rem; margin-top: 1rem; background: #007bff; color: #fff; border: none; border-radius: 6px; cursor: pointer; }
    button:hover { background: #0056b3; }
    textarea { width: 100%; height: 160px; margin-top: 1rem; font-family: monospace; font-size: 1rem; padding: 0.8rem; }
    .small { font-size: 0.9rem; color: #666; text-align: center; margin-top: 2rem; }
  </style>
</head>
<body>
  <h1>Zonify ğŸŒ</h1>
  <p>CoordinÃ¡ reuniones internacionales en segundos.</p>

  <label for="meeting-title">TÃ­tulo de la reuniÃ³n:</label>
  <input id="meeting-title" type="text" placeholder="Ej: Clase de espaÃ±ol con estudiantes globales" />

  <label for="meeting-time">Hora de inicio (tu zona horaria):</label>
  <input id="meeting-time" type="datetime-local" />

  <label for="countries">SeleccionÃ¡ paÃ­ses invitados:</label>
  <select id="countries" multiple size="8">
    <option value="AR">ğŸ‡¦ğŸ‡· Argentina</option>
    <option value="US">ğŸ‡ºğŸ‡¸ Estados Unidos</option>
    <option value="BR">ğŸ‡§ğŸ‡· Brasil</option>
    <option value="ES">ğŸ‡ªğŸ‡¸ EspaÃ±a</option>
    <option value="MX">ğŸ‡²ğŸ‡½ MÃ©xico</option>
    <option value="FR">ğŸ‡«ğŸ‡· Francia</option>
    <option value="DE">ğŸ‡©ğŸ‡ª Alemania</option>
    <option value="CL">ğŸ‡¨ğŸ‡± Chile</option>
    <option value="JP">ğŸ‡¯ğŸ‡µ JapÃ³n</option>
    <option value="IN">ğŸ‡®ğŸ‡³ India</option>
    <option value="CN">ğŸ‡¨ğŸ‡³ China</option>
  </select>

  <button onclick="generarMensaje()">ğŸ“‹ Generar mensaje</button>

  <textarea id="mensaje" readonly placeholder="Tu mensaje aparecerÃ¡ aquÃ­..."></textarea>
  <button onclick="copiarMensaje()">ğŸ“ Copiar</button>

  <p class="small">Zonify es un proyecto libre en evoluciÃ³n. VersiÃ³n bÃ¡sica funcional.</p>

  <script>
    const zonas = {
      "AR": { nombre: "Argentina", tz: "America/Argentina/Buenos_Aires", emoji: "ğŸ‡¦ğŸ‡·" },
      "US": { nombre: "Estados Unidos", tz: "America/New_York", emoji: "ğŸ‡ºğŸ‡¸" },
      "BR": { nombre: "Brasil", tz: "America/Sao_Paulo", emoji: "ğŸ‡§ğŸ‡·" },
      "ES": { nombre: "EspaÃ±a", tz: "Europe/Madrid", emoji: "ğŸ‡ªğŸ‡¸" },
      "MX": { nombre: "MÃ©xico", tz: "America/Mexico_City", emoji: "ğŸ‡²ğŸ‡½" },
      "FR": { nombre: "Francia", tz: "Europe/Paris", emoji: "ğŸ‡«ğŸ‡·" },
      "DE": { nombre: "Alemania", tz: "Europe/Berlin", emoji: "ğŸ‡©ğŸ‡ª" },
      "CL": { nombre: "Chile", tz: "America/Santiago", emoji: "ğŸ‡¨ğŸ‡±" },
      "JP": { nombre: "JapÃ³n", tz: "Asia/Tokyo", emoji: "ğŸ‡¯ğŸ‡µ" },
      "IN": { nombre: "India", tz: "Asia/Kolkata", emoji: "ğŸ‡®ğŸ‡³" },
      "CN": { nombre: "China", tz: "Asia/Shanghai", emoji: "ğŸ‡¨ğŸ‡³" }
    };

    function generarMensaje() {
      const titulo = document.getElementById('meeting-title').value || 'ReuniÃ³n';
      const horaInput = document.getElementById('meeting-time').value;
      const seleccionados = Array.from(document.getElementById('countries').selectedOptions).map(opt => opt.value);
      if (!horaInput || seleccionados.length === 0) {
        alert("CompletÃ¡ la hora y seleccionÃ¡ al menos un paÃ­s.");
        return;
      }

      const localDate = new Date(horaInput);
      let msg = `ğŸ•’ ${titulo}\n\n`;

      seleccionados.forEach(code => {
        const zona = zonas[code];
        const formato = new Intl.DateTimeFormat('es-AR', {
          hour: '2-digit',
          minute: '2-digit',
          weekday: 'short',
          day: '2-digit',
          month: 'short',
          timeZone: zona.tz
        }).format(localDate);
        msg += `${zona.emoji} ${zona.nombre}: ${formato}\n`;
      });

      msg += `\nğŸ“ Este mensaje fue generado con Zonify â€” ${location.href}`;
      document.getElementById("mensaje").value = msg;
    }

    function copiarMensaje() {
      const texto = document.getElementById("mensaje");
      texto.select();
      document.execCommand("copy");
      alert("âœ… Mensaje copiado al portapapeles");
    }
  </script>
</body>
</html>
